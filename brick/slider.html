<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="slider.css">
    <title>Before/After Image Slider</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
</head>
<body>

        <div class='container'>
    <div class="resize-handle">
           <div class='img background-img'></div>
           <div class='img foreground-img'></div>
</div>
           <div class='slider-button'> </div>
           <input type="range" min="1" max="100" value="50" class="slider" name='slider' id="slider">

        </div>
        


</body>
<script>
const $slider = $("#slider");
const $container = $(".container");
const $containerimg = $(".container .img");
const $resizeHandle = $(".resize-handle");
const maxZoom = 1; // Adjust the maximum zoom level as needed
const minZoom = 0.01; // Adjust the minimum zoom level as needed
let currentZoom = 0.25;

let isResizing = false;
let startX, startY;

// Listen for mouse down event on the resize handle
//$resizeHandle.on("mousedown", (e) => {
//  e.preventDefault();
//  isResizing = true;
//  startX = e.pageX;
//  startY = e.pageY;
//});
//
//// Listen for mouse move event on the document
//$(document).on("mousemove", (e) => {
//  if (isResizing) {
//    const deltaX = e.pageX - startX;
//    const deltaY = e.pageY - startY;
//    const newWidth = $container.width() + deltaX;
//    const newHeight = $container.height() + deltaY;
//
//    // Calculate new zoom level while preserving aspect ratio
//    const aspectRatio = 5725 / 2350;
//    const calculatedZoom = Math.min(
//      maxZoom,
//      Math.max(minZoom, newWidth / 5725, newHeight / 2350)
//    );
//
//    currentZoom = calculatedZoom;
//    updateContainerSize();
//    updateSliderPosition();
//
//    startX = e.pageX;
//    startY = e.pageY;
//  }
//});

// Listen for mouse up event on the document
//$(document).on("mouseup", () => {
//  isResizing = false;
//});

//$slider.on("input change", (e) => {
//  const sliderPos = e.target.value;
//  currentZoom = minZoom + (maxZoom - minZoom) * (sliderPos / 100);
//  updateContainerSize();
//});

function updateContainerSize() {
  const newWidth = 5725 * currentZoom;
  const newHeight = 2350 * currentZoom;
  $container.css({
    width: newWidth,
    height: newHeight,
  });
  $containerimg.css({
      "background-size": newWidth,
  });
}


// Initialize the container and slider position
updateContainerSize();
//updateSliderPosition();
    
</script>
<script>
$("#slider").on("input change", (e)=>{
  const sliderPos = e.target.value;
  // Update the width of the foreground image
  $('.foreground-img').css('width', `${sliderPos}%`)
  // Update the position of the slider button
  $('.slider-button').css('left', `calc(${sliderPos}% - 34px)`)
});
</script>
</html>


<!--

    <div class="image-slider">
        <input type="range" id="slider" min="0" max="100" value="50" class="slider">
        <div class="image-container">
            <img src="BrickJWST_merged_longwave_narrowband_lighter.png"
                 class="image" id="before" alt="Before">
        </div>
        <div class="image-container">
            <img src="BrickJWST_merged_longwave_narrowband_withstars.png"
                 class="image" id="after" alt="After">
        </div>
    </div>
-->
